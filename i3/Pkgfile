# Description: A tiling window manager
# URL:         https://i3wm.org/
# Maintainer:  Cristina Stamatin, dear dot volgk at gmail dot com
# Depends on:  brotli graphite2 libev libxkbcommon pango startup-notification xorg-xcb-util-cursor xorg-xcb-util-keysyms xorg-xcb-util-wm xorg-xcb-util-xrm yajl

name=i3
version=4.19.2
release=1
source=(https://i3wm.org/downloads/$name-$version.tar.xz)

build() {
	cd $name-$version

	meson build                   \
		--prefix=/usr         \
		--sysconfdir=/usr/etc \
		--buildtype=plain     \
		--backend=ninja

	sed -i  -e 's/ \-pipe / /g'   \
		-e 's/ \-g / /g' build/{compile_commands.json,build.ninja}

	cd build

	ninja -v
	DESTDIR=$PKG ninja install

	rm -rf $PKG/usr/share/doc/
}
