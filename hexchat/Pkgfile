# Description: GTK+ based IRC client
# URL:         https://hexchat.github.io/
# Maintainer:  Alexandr Savca, alexandrsavca89 at gmail dot com
# Depends on:  gtk iso-codes xorg-libxdamage dbus-glib desktop-file-utils enchant libcanberra libnotify libproxy lua
# Optional:    dbus-glib desktop-file-utils enchant libcanberra libnotify libproxy lua pciutils

name=hexchat
version=2.14.3
release=2
source=(https://dl.hexchat.net/hexchat/$name-$version.tar.xz)

build() {
	cd $name-$version

	meson build                     \
		--prefix /usr           \
		-Dwith-lua=lua          \
		-Dwith-libproxy=true    \
		-Dwith-libnotify=true   \
		-Dwith-libcanberra=true \
		-Dwith-dbus=true        \
		-Dwith-sysinfo=false    \
		-Dwith-text=false

	ninja -C build -j ${JOBS:-1} -v
	DESTDIR="$PKG" ninja -C build install

	rm -r $PKG/usr/share/locale
}
