# Description:  Additional style plugins for Qt5
# URL:          https://github.com/qt/qtstyleplugins
# Maintainer:   chinarulezzz, drop at chinarulezzz dot fun
# Depends on:   gtk qt5

name=qt5-styleplugins
commit=335dbece103e2cbf6c7cf819ab6672c2956b17b3
version=5.0.0-20170311
release=2
source=(https://github.com/qt/qtstyleplugins/archive/$commit.tar.gz
	qt5.15.patch)

build() {
	cd qtstyleplugins-$commit

	patch -p1 < $SRC/qt5.15.patch

	qmake-qt5 \
		PREFIX="/usr" \
		QMAKE_CFLAGS_RELEASE="$CFLAGS" \
		QMAKE_CXXFLAGS_RELEASE="$CXXFLAGS" \
		LIBS+="-lQt5DBus"
	make
	make INSTALL_ROOT=$PKG install
}
