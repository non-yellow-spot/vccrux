# Description: Python library for analyzing ELF files and DWARF debugging information
# URL:         https://github.com/eliben/pyelftools
# Maintainer:  Alexandr Savca, alexandrsavca89 at gmail dot com
# Depends on:  python3-setuptools

name=python3-pyelftools
version=0.26
release=1
source=(https://github.com/eliben/${name#*-}/archive/v$version/${name#*-}-$version.tar.gz)

build() {
	cd ${name#*-}-$version

	python3 setup.py build
	python3 setup.py install --prefix=/usr --root=$PKG --optimize=1

	#python3 test/run_all_unittests.py
	#python3 test/run_examples_test.py
	#python3 test/run_readelf_tests.py

	# remove sdist metadata, as wheel metadata will be used with python3-pip
	rm -rf $PKG/usr/lib/python*/site-packages/${name#*-}-$version-py*.egg-info
}
